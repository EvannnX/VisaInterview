# ✅ 配置完成 - 重启指南

## 🎉 恭喜！

ElevenLabs API Key 已成功配置！

```
ELEVENLABS_API_KEY=sk_1ff152...
```

---

## 🔄 最后一步：重启应用

### 方法 1：终端重启（推荐）

1. **停止当前应用**
   ```bash
   按 Ctrl+C（Mac: Command+C）
   ```

2. **重新启动**
   ```bash
   npm run dev
   ```

3. **等待启动**
   ```
   看到以下信息即表示成功：
   ✓ Ready in 2.3s
   ○ Local: http://localhost:3000
   ```

### 方法 2：一键重启脚本

```bash
# 创建重启脚本
cat > restart.sh << 'EOF'
#!/bin/bash
pkill -f "next dev" 2>/dev/null
sleep 1
npm run dev
EOF

chmod +x restart.sh
./restart.sh
```

---

## 🎯 测试新语音

### 步骤 1：访问系统
```
http://localhost:3000
```

### 步骤 2：登录
```
账号：student@example.com
密码：student123
```

### 步骤 3：开始面试
1. 点击 "开始新面试"
2. 选择签证类型（推荐 B1/B2，题目最多）
3. **重点：尝试不同口音**
   - 美式英语（女）- Sarah
   - 英式英语（女）- Emma
   - 印度英语（女）- Priya
   - 澳洲英语（女）- Sophie

### 步骤 4：播放问题
1. 进入面试页面
2. 点击 "🔊 Play Question"
3. **仔细听！** 每个口音都完全不同

---

## ✨ 效果对比

### 配置前（浏览器 TTS）
```
所有口音 → 😐 机械朗读 → 听不出区别
```

### 配置后（ElevenLabs）
```
美式 Rachel  → 😊 专业清晰，标准美式发音
英式 Dorothy → 🎩 优雅正式，纯正英式腔调
印度 Shimmer → 🕉️ 独特韵律，明显印度口音
澳洲 Nova    → 🦘 轻松自然，澳洲式发音
```

**每个口音都有明显的特征差异！**

---

## 🔍 验证配置成功

### 检查 1：浏览器控制台无错误

1. 打开浏览器开发者工具（F12）
2. 点击播放问题
3. 应该看到：
   - ✅ 请求 `/api/speech/tts` 成功（200）
   - ✅ 收到音频响应
   - ✅ 无 "fallback" 错误提示

### 检查 2：声音质量

配置成功的标志：
- ✅ 声音非常自然，像真人
- ✅ 不同口音差异明显
- ✅ 语调、节奏、停顿都很真实
- ✅ 没有机械感

配置失败的表现：
- ❌ 仍然是机械朗读
- ❌ 所有口音听起来一样
- ❌ 出现 "Failed to generate speech" 错误

---

## 🎓 使用建议

### 体验不同口音

1. **美式口音**（Rachel）
   - 最适合：美国签证面试
   - 特点：清晰、标准、专业
   - 发音：r 音明显，元音饱满

2. **英式口音**（Dorothy）
   - 最适合：英国签证面试
   - 特点：优雅、正式、贵族感
   - 发音：省略 r 音，元音圆润

3. **印度口音**（Shimmer）
   - 最适合：模拟印度签证官
   - 特点：独特韵律、节奏变化
   - 发音：特殊的重音模式

4. **澳洲口音**（Nova）
   - 最适合：澳洲签证面试
   - 特点：轻松、友好、自然
   - 发音：上扬语调，独特元音

### 训练建议

1. **先适应口音**
   - 每个口音先听 3-5 题
   - 熟悉发音特点
   - 理解语速和节奏

2. **模拟真实场景**
   - 美国签证 → 用美式口音
   - 英国签证 → 用英式口音
   - 增加真实感

3. **混合练习**
   - 同一题目，不同口音
   - 训练快速适应能力
   - 提高应变水平

---

## 💰 免费额度

你的 ElevenLabs 账户包含：
- ✅ 10,000 字符/月
- ✅ 约 150 道题目的语音
- ✅ 个人练习完全够用

### 查看使用量

访问：https://elevenlabs.io/app/usage

可以看到：
- 已使用字符数
- 剩余额度
- 重置时间

---

## 🆘 遇到问题？

### 问题 1：仍然是机械声音

**原因**：应用未重启

**解决**：
```bash
按 Ctrl+C 停止
npm run dev 重启
```

### 问题 2：出现 401 错误

**原因**：API Key 无效

**解决**：
1. 检查 .env 中的 API Key
2. 确认没有多余空格
3. 重新获取 API Key

### 问题 3：播放延迟

**原因**：首次生成需要时间

**解决**：
- 正常现象
- 首次播放等待 1-3 秒
- 之后会很快

### 问题 4：网络错误

**原因**：无法连接 ElevenLabs API

**解决**：
1. 检查网络连接
2. 尝试使用 VPN
3. 检查防火墙设置

---

## 📊 额度管理

### 节省使用

- 只在必要时播放语音
- 避免重复播放同一问题
- 定期检查剩余额度

### 用完后

选项 1：等待下月重置
选项 2：升级付费套餐（$5/月起）
选项 3：切换到 OpenAI TTS（需配置）

---

## ✅ 配置清单

完成以下检查确认配置成功：

- [x] ElevenLabs API Key 已添加到 .env
- [ ] 应用已重启
- [ ] 浏览器已刷新
- [ ] 能听到自然的声音
- [ ] 不同口音有明显区别
- [ ] 无错误提示

---

## 🎉 恭喜完成！

现在你拥有：
- ✅ 专业的 TTS 语音服务
- ✅ 7 种不同的口音角色
- ✅ 真实的面试体验
- ✅ 每月 10,000 字符免费额度

**开始享受真实的签证面试训练吧！** 🚀

---

**最后更新**: 2025-09-30  
**配置状态**: ✅ 已完成  
**下一步**: 重启应用并测试
