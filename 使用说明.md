# 🚀 一键启动使用说明

## 方式一：双击启动（最简单）⭐

### macOS
1. 双击 `一键启动.command` 文件
2. 如提示权限问题，右键 → 打开
3. 等待自动完成所有配置
4. 浏览器访问 http://localhost:3000

### Windows
1. 双击 `一键启动.bat` 文件
2. 等待自动完成
3. 浏览器访问 http://localhost:3000

---

## 方式二：命令行启动（推荐）

### 完全自动化（Docker + 应用）
```bash
./start.sh
```
选择 Docker 模式，自动启动数据库和应用

### 只启动数据库（应用手动启动）
```bash
./start-docker-only.sh
```
然后手动运行：
```bash
npm run dev
```

---

## 方式三：手动启动（开发者）

```bash
# 1. 启动数据库
docker-compose -f docker-compose.simple.yml up -d

# 2. 安装依赖
npm install

# 3. 初始化数据库
npm run db:generate
npm run db:push
npm run db:seed

# 4. 启动应用
npm run dev
```

---

## 测试账户

登录后使用以下账户：

| 角色 | 邮箱 | 密码 |
|------|------|------|
| 学员 | student@example.com | student123 |
| 管理员 | admin@example.com | admin123 |

---

## 访问地址

- **应用**: http://localhost:3000
- **数据库管理**: http://localhost:5050
  - 邮箱: admin@visa.com
  - 密码: admin123

---

## 常用命令

```bash
# 查看运行状态
docker ps

# 查看日志
docker-compose -f docker-compose.simple.yml logs -f

# 停止服务
docker-compose -f docker-compose.simple.yml down

# 重启服务
docker-compose -f docker-compose.simple.yml restart

# 完全清理（包括数据）
docker-compose -f docker-compose.simple.yml down -v
```

---

## 数据库连接信息

如需手动连接数据库：

```
主机: localhost
端口: 5432
用户: visa_user
密码: visa_password_123
数据库: visa_interview

连接字符串:
postgresql://visa_user:visa_password_123@localhost:5432/visa_interview
```

---

## 故障排除

### 端口被占用
```bash
# 查看占用 3000 端口的进程
lsof -ti:3000 | xargs kill -9

# 查看占用 5432 端口的进程
lsof -ti:5432 | xargs kill -9
```

### Docker 相关问题
```bash
# 清理所有容器和网络
docker system prune -a

# 重新启动 Docker Desktop
```

### 数据库连接失败
```bash
# 检查数据库状态
docker exec visa_interview_db pg_isready -U visa_user

# 查看数据库日志
docker logs visa_interview_db
```

### npm 安装失败
```bash
# 清理缓存重新安装
rm -rf node_modules package-lock.json
npm cache clean --force
npm install
```

---

## 停止服务

### 停止应用
在终端按 `Ctrl + C`

### 停止数据库
```bash
docker-compose -f docker-compose.simple.yml down
```

### 停止所有服务
```bash
docker-compose down
```

---

## 下一步

1. ✅ 启动成功后访问 http://localhost:3000
2. 📱 使用测试账户登录
3. 🎯 开始第一次模拟面试
4. 📊 查看评分报告
5. 👨‍💼 切换管理员账户管理题库

---

需要帮助？查看 `START_HERE.md` 或 `README.md`
